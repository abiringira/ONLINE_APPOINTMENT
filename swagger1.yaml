swagger: '2.0'
info:
  description: |
    This is a Testing server.  
  version: 1.0.0
  title:  Testing
  contact:
      email: abiringiraemmanuel@gmail.com
  license:
  name: Apache 2.0
  url: http://www.apache.org/licenses/LICENSE-2.0.html
    
host: localhost:3000
basepath: /
tags :
- name: Users
  description: List of all users
- name: Appointments
  description: appointment requested by many patients
- name: Centers
  description: Centers where Doctors belong or work
paths:
  /users:
    post : 
        tags :
        - Users
        summary: Creating new user
        operationId: addDoctor
        consumes :
        - application/json
        produces :
        - appication/json
        parameters:
        - in: body
          name: body
          description: user object that needs to be added to the store
          required: true
          schema:
           $ref: '#/definitions/User'   
        responses:
          200:
            description: User created successfully
          400:
            description: Bad request
          500:
            description: Internal Server Error  

    get:
      tags:
      - Users
      summary: List of all user
      operationId: doctorList
      consumes:
      - application/json
      produces: 
      - application/json
      parameters:
      - in: path
        name: body
        description: Getting List of all users
      responses:
        500:
          description: Internal Server Error 
  
  /users/{id}:        
    patch:
      tags:
      - Users
      summary: Edit User
      operationId: editDoctor
      consumes: 
      - applicationm/json
      produces:
      - application/json
      parameters:
      - in: body 
        name: body 
        description: Edit a User
        required: true
        schema:
          $ref:
          type: object
          properties:
            username: 
              type: String
              example: admin
            password:
              type: String
              example: 1234568963
      response:
        200: 
          description: User updated
        404:
          description: User not found
        500:
          description: Internal Server error         

  
    delete:
      tags:
      - Users
      summary: Delete a Doctor
      operationId: deleteDoctor
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: path
      name: id
      description: deleteUser
      required: true
      response:
        200:
          description: User Deleted
        404:
          description: User not found
        500:
          description: Internal Server error

    

  /session:
    post:
      tags:
      - Users 
      summary: Aunthenticate User
      operationId: userLogin
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: body
        required: true
        description: User login
        schema:
         $ref: 
         type: object
         properties:
          username: 
           type: String
           example: admin
          password:
            type: String
            example: 12345
      responses:
        200:
         description: user logged in
        400:
         description: Invalid username or password
        500:
         description: Internal Server Error


  /appointment:
    post:
      tags:
      - Appointments
      summary: Resquest an appointment
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name : body
        required: true
        description : Requesrt new appointment
        schema:
         $ref: '#/definitions/Appointment'
      responses:
        200: 
          description: appointment requested successfully
        400:
          description: Bad request
        500:
          description: Internal server error
    get:
      tags:
      - Appointments
      summary: Get all requested appointments
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: path
        name: body
        description: All appointments
      responses:
        500:  
          description: Internal Server error 

  /center:
    post:
      tags:
      - Centers
      summary : Adding a new center
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name : body
        description : adding a new center
        required: true
        schema:
          $ref: '#/definitions/Center'
      
      responses:
        200: 
          description: center added successfully
        400:
          description: Bad request
        500:
          description: Internal server error
    
    get:
      tags:
      - Centers
      summary : Get list of all centers
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: path
        name: body
        description: Get all Centers
      responses:
        500:
          description: Internal server error

  /center/{id}:
    patch:
      tags:
      - Centers
      summary: Update address of a center
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name : body
        description: updating new location
        required: true
        schema:
          $ref:
          type: object
          properties:
            address : 
              type: String
              example : TOWN HALL REMERA GISIMETI
      responses:
        200: 
          description: center updated
        404:
          descriptin: center not found
        500:
          description: Internal Server error

    delete:
      tags:
      - Centers
      summary: Deleting a center
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: path
        name: body
        description: Delete a center
      responses:
        200: 
          description: center deleted
        404:
          description: center not found
        500:
          description: Internal server error


definitions:
  User:
    type: object
    properties:
      firstName:
        type: String
        example: Alex
      lastName:
        type: string
        example: Ntale
      username:
        type: string
        example: DR. Ntale
      email:
        type: string
        example: ntale@gmail.com
      password:
        type: string
        example: alex
      mobile:
        type: string
        example: 0783215670
      center:
        type: String
        example: Kirehe Hospital
      gender: 
        type: String
        example: MALE
      nid:
       type: String  
       example: 1196819045832045      
    xml:
      name: User

  Appointment:
    type: object
    properties:
      firstName:
        type: String
        example: Mugema
      lastName:
        type: String
        example: Olivier
      gender:
        type: String
        enum: 
        - MALE
        - FEMALE
      nid:
        type: String
        example: 11940523626432
      city:
        type: String
        example: Southern
      center:
        type: String
        example: CHUB
      age:
        type: String
        example: 34
      mobile:
        type: String
        example: 0789310043
      email:
        type: String
        example: olivier@gmail.com
      counselor:
        type: String
        example: DR. Bizoza
    xml:
      name: Appointmnent    

  Center:
    type: object
    properties:
      city:
        type: String
        example: North
      district:
        type: String
        example: Gicumbi
      address:
        type: String
        example: GC 357 AVENU 624
      name:
        type: String
        example: Gicumbi Hospital
    xml:
      name: Center

 





